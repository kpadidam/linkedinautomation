<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Job Automation</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>LinkedIn Job Automation System</h1>
            <p>Automated job discovery, analysis, and Google Sheets logging</p>
        </header>

        <nav class="tabs">
            <button class="tab-button active" onclick="showTab('search')">Job Search</button>
            <button class="tab-button" onclick="showTab('jobs')">Saved Jobs</button>
            <button class="tab-button" onclick="showTab('profile')">Profile</button>
            <button class="tab-button" onclick="showTab('statistics')">Statistics</button>
        </nav>

        <!-- Search Tab -->
        <div id="search-tab" class="tab-content active">
            <div class="search-section">
                <h2>Search LinkedIn Jobs</h2>
                <form id="search-form">
                    <div class="form-group">
                        <label for="keywords">Keywords *</label>
                        <input type="text" id="keywords" name="keywords" required 
                               placeholder="e.g., Software Engineer, Data Scientist">
                    </div>
                    
                    <div class="form-group">
                        <label for="location">Location *</label>
                        <input type="text" id="location" name="location" required 
                               value="United States" placeholder="e.g., San Francisco, CA">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="job_type">Job Type</label>
                            <select id="job_type" name="job_type">
                                <option value="">Any</option>
                                <option value="full-time">Full-time</option>
                                <option value="part-time">Part-time</option>
                                <option value="contract">Contract</option>
                                <option value="temporary">Temporary</option>
                                <option value="internship">Internship</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="experience_level">Experience Level</label>
                            <select id="experience_level" name="experience_level">
                                <option value="">Any</option>
                                <option value="entry">Entry Level</option>
                                <option value="associate">Associate</option>
                                <option value="mid-senior">Mid-Senior</option>
                                <option value="director">Director</option>
                                <option value="executive">Executive</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="posted_within">Posted Within</label>
                            <select id="posted_within" name="posted_within">
                                <option value="24h">Past 24 hours</option>
                                <option value="week" selected>Past week</option>
                                <option value="month">Past month</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="max_results">Max Results</label>
                            <input type="number" id="max_results" name="max_results" 
                                   min="1" max="100" value="20">
                        </div>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" name="remote" id="remote">
                            Remote positions only
                        </label>
                        <label>
                            <input type="checkbox" name="enable_matching" id="enable_matching" checked>
                            Enable AI resume matching
                        </label>
                        <label>
                            <input type="checkbox" name="save_to_sheets" id="save_to_sheets" checked>
                            Save to Google Sheets
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Start Search</button>
                </form>
                
                <div id="search-status" class="status-message" style="display: none;"></div>
                
                <div id="search-results" class="search-results" style="display: none;">
                    <h3>Search Progress</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <p id="progress-text">Initializing search...</p>
                    <div id="sheet-link" style="display: none;">
                        <a href="" target="_blank" class="btn btn-secondary">View Google Sheet</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Jobs Tab -->
        <div id="jobs-tab" class="tab-content">
            <div class="jobs-section">
                <h2>Saved Jobs</h2>
                
                <div class="filters">
                    <select id="status-filter" onchange="filterJobs()">
                        <option value="">All Status</option>
                        <option value="new">New</option>
                        <option value="viewed">Viewed</option>
                        <option value="saved">Saved</option>
                        <option value="applied">Applied</option>
                    </select>
                    
                    <input type="number" id="min-score-filter" placeholder="Min match %" 
                           min="0" max="100" onchange="filterJobs()">
                    
                    <button onclick="loadJobs()" class="btn btn-secondary">Refresh</button>
                </div>
                
                <div id="jobs-list" class="jobs-list">
                    <p>Loading jobs...</p>
                </div>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profile-tab" class="tab-content">
            <div class="profile-section">
                <h2>User Profile</h2>
                <form id="profile-form">
                    <div class="form-group">
                        <label for="profile-name">Name</label>
                        <input type="text" id="profile-name" name="name">
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-email">Email</label>
                        <input type="email" id="profile-email" name="email">
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-skills">Skills (comma-separated)</label>
                        <textarea id="profile-skills" name="skills" rows="3"
                                  placeholder="Python, JavaScript, React, AWS, Docker"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-resume">Resume Text</label>
                        <textarea id="profile-resume" name="resume_text" rows="10"
                                  placeholder="Paste your resume text here for better job matching..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Update Profile</button>
                </form>
                
                <div id="profile-status" class="status-message" style="display: none;"></div>
            </div>
        </div>

        <!-- Statistics Tab -->
        <div id="statistics-tab" class="tab-content">
            <div class="statistics-section">
                <h2>Statistics</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="total-jobs">0</h3>
                        <p>Total Jobs</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="applied-jobs">0</h3>
                        <p>Applied</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="high-match-jobs">0</h3>
                        <p>High Match (80%+)</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="avg-match-score">0%</h3>
                        <p>Avg Match Score</p>
                    </div>
                </div>
                
                <div class="recent-searches">
                    <h3>Recent Searches</h3>
                    <div id="recent-searches-list"></div>
                </div>
                
                <div class="actions">
                    <button onclick="createNewSheet()" class="btn btn-secondary">Create New Sheet</button>
                    <button onclick="cleanupOldData()" class="btn btn-danger">Cleanup Old Data</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Job Details Modal -->
    <div id="job-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeJobModal()">&times;</span>
            <div id="job-details"></div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>